# podm4osmand

Как загрузить [карту Подмосковья](http://slazav.xyz/maps/podm_txt.htm)
c [slazav.xyz](http://slazav.xyz/) для автономного просмотра
в [OsmAnd](https://osmand.net/) для Android.

[Обзорная карта](http://slazav.xyz/maps/podm/all_podm.htm)

Здесь описана загрузка растрового варианта карты в формате `Metainfo` для OsmAnd.
Карты в этом формате содержат тайлы в виде отдельных png файлов, организованных
в следующую иерархию каталогов: `{z}/{x}/{y}png.tile`. В корне этой иерархии
хранится файл конфигурации, который называется [.metainfo](tiles/.metainfo).

Карта Подмосковья в таком формате занимает примерно 665M
и содержит около 40 тысяч тайлов (до 14 уровня zoom).

## Настройка OsmAnd для Android

[Как настроить тайловые карты в OsmAnd](https://osmand.net/features/online-maps-plugin)

Для поддержки растровых карт надо включить плагин для Онлайн карт:
`Настройки/Плагины/Онлайн-карты`.
После этого можно добавлять растровые карты и спутниковые снимки из разных источников.

Для добавления нового источника нужно выбрать `Настройки карты/Источник карты/Добавить`.
В настройках источника ввести следующее:

Имя | slazav
URL | http://slazav.xyz/tiles/podm/{x}-{y}-{z}.png
Уровни масштаба | min 5 - max 14
Время устаревания | Никогда
Формат хранения | Каждый тайл в своём файле

После сохранения настроек карты уже можно смотреть в онлайн-режиме.
Загруженные при просмотре тайлы будут сохранятся в локальных файлах.

При наличии карты памяти рекомендуется в настройках OsmAnd перенести
карты на неё (`Настройки/Настройка OsmAnd/Папка хранилища данных`).
В этом случае загруженные тайлы будут сохраняться здесь:
`Android/data/net.osmand.plus/files/tiles/slazav/`.
Там же будет находиться файл `.metainfo`, содержащий описанные выше настройки.
